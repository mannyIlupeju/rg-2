{"version":3,"sources":["search.js"],"names":["handler","req","res","method","status","end","userSearch","body","console","log","json","error","sanityResults","shopifyResults","combinedResults"],"mappings":";;;;;;;AAAA;;;;;;;;;;AAEA,SAAeA,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,gBACMD,GAAG,CAACE,MAAJ,KAAe,MADrB;AAAA;AAAA;AAAA;;AAEMD,UAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,GAFN,CAE6B;;AAF7B;;AAAA;AAMQC,UAAAA,UANR,GAMqBL,GAAG,CAACM,IAAJ,CAASD,UAN9B,EAM0C;;AACxCE,UAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AAPF;AAWYA,UAAAA,WAXZ,GAWyBL,GAAG,CAACM,IAAJ,CAASD,UAXlC,EAW8C;;AAX9C,cAaWA,WAbX;AAAA;AAAA;AAAA;;AAcQJ,UAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqB;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAArB;AAdR;;AAAA;AAAA;AAAA,0CAkBkC,2BAAaL,WAAb,CAlBlC;;AAAA;AAkBYM,UAAAA,aAlBZ;AAAA;AAAA,0CAmBmC,4BAAcN,WAAd,CAnBnC;;AAAA;AAmBYO,UAAAA,cAnBZ;AAqBML,UAAAA,OAAO,CAACC,GAAR,CAAYI,cAAZ;;AAGA,cAAGD,aAAa,IAAIC,cAApB,EAAmC;AAC3BC,YAAAA,eAD2B,gCACLF,aADK,sBACaC,cADb;AAEjCX,YAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBM,IAAhB,CAAqBI,eAArB;AACD;;AA3BP;AAAA;;AAAA;AAAA;AAAA;AA6BMN,UAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;;AA7BN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;eAiCeT,O","sourcesContent":["import { searchSanity, searchShopify } from '@/helpers/api-util';\n\nasync function handler(req, res) {\n  if (req.method !== \"POST\") {\n      res.status(405).end(); // Method Not Allowed\n      return;\n  }\n\n  const userSearch = req.body.userSearch; // Assuming you're passing search as a query parameter\n  console.log(userSearch);\n\n\n    try{\n      const userSearch = req.body.userSearch; // Assuming you're passing search as a query parameter\n      \n      if (!userSearch) {\n        res.status(400).json({ error: 'Search query is missing' });\n        return;\n      }\n      \n      const sanityResults = await searchSanity(userSearch);\n      const shopifyResults = await searchShopify(userSearch);\n\n      console.log(shopifyResults);\n      \n      \n      if(sanityResults || shopifyResults){\n        const combinedResults = [...sanityResults, ...shopifyResults]\n        res.status(200).json(combinedResults);\n      }\n    }catch(error){\n      console.log('Error fetching response:', error)\n    }\n}\n\nexport default handler;\n"],"file":"search.dev.js"}