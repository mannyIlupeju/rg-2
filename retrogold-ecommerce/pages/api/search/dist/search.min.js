"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _apiUtil=require("@/helpers/api-util");function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}function handler(e,t){var a,n,o;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if("POST"!==e.method)return t.status(405).end(),r.abrupt("return");r.next=3;break;case 3:if(r.prev=3,a=e.body.userSearch){r.next=8;break}return t.status(400).json({error:"Search query is missing"}),r.abrupt("return");case 8:return r.next=10,regeneratorRuntime.awrap((0,_apiUtil.searchSanity)(a));case 10:(n=r.sent)&&(o=_toConsumableArray(n),t.status(200).json(o)),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(3),console.log("Error fetching response:",r.t0);case 17:case"end":return r.stop()}},null,null,[[3,14]])}var _default=handler;exports.default=_default;
//# sourceMappingURL=search.min.js.map
