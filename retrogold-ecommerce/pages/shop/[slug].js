import React from 'react';
import Head from 'next/head'
import { sanityClient } from '/lib/sanity'
import Navigation from '@/components/Shared/Navigation'
import Footer from '@/components/Shared/Footer/footer'





const productDetails = ({data}) => {
  const {productDetail} = data
  console.log(productDetail)
  
  return (
    <>
      <Head>
        <title>{}</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />

      </Head>
      <Navigation/>
      <main>
        <div className="container mx-auto bg-white h-screen">
          <div className="grid grid-cols-2">

          </div>
        </div>
      </main>
      <Footer/>
    </>
  );
}


export default productDetails






const paramQuery = `*[_type == "product" && defined(slug.current)]{
  "params": {
    "slug": slug.current
  }
}`


export async function getStaticPaths() {
 const paths = await sanityClient.fetch(paramQuery)

  return {
    paths,
    fallback: false,
  }
 
}


const productDetailQuery = `*[_type == 'product']{
  images,
  mainImage,
  productDescription[],
  productName,
  price, 
  slug,
  _id,

}`

export async function getStaticProps({ params }) {
 const {slug} = params;
 
 const productDetail = await sanityClient.fetch(productDetailQuery, {slug})


 return {
   props: {
     data: {productDetail}
   }
 }
}



