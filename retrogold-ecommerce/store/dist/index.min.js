"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.toggleCartItemQuantity=exports.onRemove=exports.addToCart=void 0;var _toolkit=require("@reduxjs/toolkit");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var initialState={cart:[],totalPrice:0,totalQuantity:1},cartSlice=(0,_toolkit.createSlice)({name:"cart",initialState:initialState,reducers:{addToCart:function(t,e){var r=t.cart.find(function(t){return t.id===e.payload.id});r?r.quantity++:t.cart.push(_objectSpread({},e.payload,{quantity:e.payload.quantity||1})),t.totalQuantity=t.cart.reduce(function(t,e){return t+e.quantity},0),t.totalPrice=t.cart.reduce(function(t,e){return t+e.price*e.quantity},0)},onRemove:function(t,e){var r=t.cart.find(function(t){return t.id===e.payload.id});r&&(t.cart=t.cart.filter(function(t){return t.id!==r.id}),t.totalPrice=t.cart.reduce(function(t,e){return t+e.price*e.quantity},0))},toggleCartItemQuantity:function(t,e){var r=t.cart.findIndex(function(t){return t.id===e.payload.id});if(-1!==r){var a=t.cart[r];"inc"===e.payload.value?a.quantity++:"dec"===e.payload.value&&(1<a.quantity?a.quantity--:t.cart.splice(r,1)),t.totalQuantity=t.cart.reduce(function(t,e){return t+e.quantity},0),t.totalPrice=t.cart.reduce(function(t,e){return t+e.price*e.quantity},0)}}}}),store=(0,_toolkit.configureStore)({reducer:cartSlice.reducer}),_cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,onRemove=_cartSlice$actions.onRemove,toggleCartItemQuantity=_cartSlice$actions.toggleCartItemQuantity;exports.toggleCartItemQuantity=toggleCartItemQuantity,exports.onRemove=onRemove,exports.addToCart=addToCart;var _default=store;exports.default=_default;
//# sourceMappingURL=index.min.js.map
