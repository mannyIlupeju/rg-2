{"version":3,"sources":["index.js"],"names":["_toolkit","require","initialState","cart","totalPrice","totalQuantity","cartSlice","createSlice","name","reducers","addToCart","state","action","find","item","_id","payload","existingItem","quantity","push","_objectSpread","reduce","total","price","removingItem","filter","toggleCartItemQuantity","existingItemIndex","value","splice","store","reducer","actions"],"mappings":"6JAAA,IAAAA,SAAAC,QAAA,+uBAIA,IAAMC,aAAe,CACjBC,KAAM,GACNC,WAAY,EANhBC,cAAA,GAUMC,WAAY,EAAAN,SAAAO,aAAY,CAC1BC,KAAM,OACNN,aAAAA,aACAO,SAAU,CACPC,UAAW,SAACC,EAAOC,GAVpBV,IAAAA,EAAeS,EAAAR,KAAAU,KAAA,SAAAC,GAAA,OAAAA,EAAAC,MAAAH,EAAAI,QAAAD,MAAAE,EAEPA,EAFOC,WAArBP,EAAAR,KAAAgB,KAAAC,cAAA,GAAAR,EAAAI,QAAA,CAAAE,SAAAN,EAAAI,QAAAE,UAAA,KAOUP,EADoBN,cAAAM,EAAAR,KAAAkB,OAAA,SAAAC,EAAAR,GAAA,OAAAQ,EAAAR,EAAAI,UAAA,GAE1BhB,EAAYE,WAAZF,EAF0BC,KAAAkB,OAAA,SAAAC,EAAAR,GAAA,OAAAQ,EAAAR,EAAAS,MAAAT,EAAAI,UAAA,IAIvBR,SAAW,SAAAC,EAAAC,GACV,IAAMK,EAAeN,EAAAR,KAAAU,KAAgB,SAAAC,GAAA,OAAAA,EAAIC,MAAAH,EAAAI,QAAAD,MAAAS,IAAzCb,EAAAR,KAAAQ,EAAAR,KAAAsB,OAAA,SAAAX,GAAA,OAAAA,EAAAC,MAAAS,EAAAT,MAaGJ,EAAMP,WAAaO,EAAMR,KAAKkB,OAAO,SAACC,EAAOR,GAAR,OAAiBQ,EAASR,EAAKS,MAAQT,EAAKI,UAAW,KAV9FQ,uBAAM,SAAAf,EAAAC,GACHD,IAAKgB,EAALhB,EAAAR,KAAoBS,UAAOI,SAAAA,GAAAA,OAA3BF,EAAAC,MAAAH,EAAAI,QAAAD,MAAoCG,IAAU,IAAVA,EAAyBA,CAA7D,IAAAD,EAAAN,EAAAR,KAAAwB,GAEwBxB,QAAtBE,EAAAA,QAANuB,MAAwCX,EAAyBH,WAAjE,QAAAF,EAAAI,QAAAY,QAC8BP,EAAxBjB,EAAaO,SAAkCW,EAAcC,WAE1DZ,EAAAR,KAAA0B,OAAClB,EAAkB,IAE5BA,EAAGa,cAAab,EAAAR,KAAAkB,OAAA,SAAAC,EAAAR,GAAA,OAAAQ,EAAAR,EAAAI,UAAA,GACbP,EAAMR,WAAaA,EAAKsB,KAAXJ,OAAkB,SAAAC,EAAIR,GAAJ,OAAIQ,EAAAR,EAAAS,MAAAT,EAAAI,UAAA,QAKvCY,OAAMH,EAAAA,SAAAA,gBAAiB,CAAwBI,QAAAzB,UAAUyB,6BAC3BzB,UAAA0B,QAA1BL,6BAAAA,UAAAA,4BAAAA,SAA0BD,0CAAAA,gJAgCtBI","file":"index.min.js","sourcesContent":["import { configureStore, createSlice} from '@reduxjs/toolkit'\n\n\n\nconst initialState = {\n    cart: [],\n    totalPrice: 0,\n    totalQuantity: 1\n};\n\nconst cartSlice = createSlice({\n    name: 'cart',\n    initialState,\n    reducers: {\n       addToCart: (state, action) => {\n        const existingItem = state.cart.find(item => item._id === action.payload._id);\n        if(existingItem){\n            existingItem.quantity++\n        } else {\n            state.cart.push({...action.payload, quantity: action.payload.quantity || 1})\n        }\n        state.totalQuantity = state.cart.reduce((total, item) => total + item.quantity, 0)\n        state.totalPrice = state.cart.reduce((total, item)=> total + (item.price * item.quantity), 0)\n       },\n       onRemove: (state, action) => {\n        const removingItem = state.cart.find(item => item._id === action.payload._id);\n        if(removingItem){\n           state.cart = state.cart.filter(item => item._id !== removingItem._id)\n           state.totalPrice = state.cart.reduce((total, item) => total + (item.price * item.quantity), 0)\n        } \n       },\n      toggleCartItemQuantity: (state, action) => {\n       const existingItemIndex = state.cart.findIndex((item) => item._id === action.payload._id);\n       if (existingItemIndex !== -1) {\n        const existingItem = state.cart[existingItemIndex];\n\n        // Increase or decrease quantity\n        if (action.payload.value === 'inc') {\n            existingItem.quantity++;\n        } else if (action.payload.value === 'dec') {\n            if (existingItem.quantity > 1) {\n                existingItem.quantity--;\n            } else {\n                // Remove item from cart if quantity is 1 and 'dec' is requested\n                state.cart.splice(existingItemIndex, 1);\n            }\n        }\n\n        // Update totalQuantity and totalPrice\n        state.totalQuantity = state.cart.reduce((total, item) => total + item.quantity, 0);\n        state.totalPrice = state.cart.reduce((total, item) => total + item.price * item.quantity, 0);\n       }\n      }\n\n       \n    },\n\n});\n\nconst store = configureStore({ \n    reducer: cartSlice.reducer,\n});\n\nexport const { addToCart, onRemove, toggleCartItemQuantity } = cartSlice.actions;\n\nexport default store; "]}