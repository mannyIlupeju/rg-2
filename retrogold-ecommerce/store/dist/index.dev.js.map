{"version":3,"sources":["index.js"],"names":["initialState","cart","totalPrice","totalQuantity","cartSlice","name","reducers","addToCart","state","action","existingItem","find","item","id","payload","quantity","push","reduce","total","price","onRemove","removingItem","filter","toggleCartItemQuantity","existingItemIndex","findIndex","value","splice","store","reducer","actions"],"mappings":"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","sourcesContent":["import { configureStore, createSlice } from '@reduxjs/toolkit'\n\n\nconst initialState = {\n    cart: [],\n    totalPrice: 0,\n    totalQuantity: 1\n};\n\nconst cartSlice = createSlice({\n    name: 'cart',\n    initialState,\n    reducers: {\n       addToCart: (state, action) => {\n        const existingItem = state.cart.find(item => item.id === action.payload.id);\n        if(existingItem){\n            existingItem.quantity++\n        } else {\n            state.cart.push({...action.payload, quantity: action.payload.quantity || 1})\n        }\n        state.totalQuantity = state.cart.reduce((total, item) => total + item.quantity, 0)\n        state.totalPrice = state.cart.reduce((total, item)=> total + (item.price * item.quantity), 0)\n       },\n       onRemove: (state, action) => {\n        const removingItem = state.cart.find(item => item.id === action.payload.id);\n        if(removingItem){\n           state.cart = state.cart.filter(item => item.id !== removingItem.id)\n           state.totalPrice = state.cart.reduce((total, item) => total + (item.price * item.quantity), 0)\n        } \n       },\n      toggleCartItemQuantity: (state, action) => {\n       const existingItemIndex = state.cart.findIndex((item) => item.id === action.payload.id);\n       if (existingItemIndex !== -1) {\n        const existingItem = state.cart[existingItemIndex];\n\n        // Increase or decrease quantity\n        if (action.payload.value === 'inc') {\n            existingItem.quantity++;\n        } else if (action.payload.value === 'dec') {\n            if (existingItem.quantity > 1) {\n                existingItem.quantity--;\n            } else {\n                // Remove item from cart if quantity is 1 and 'dec' is requested\n                state.cart.splice(existingItemIndex, 1);\n            }\n        }\n\n        // Update totalQuantity and totalPrice\n        state.totalQuantity = state.cart.reduce((total, item) => total + item.quantity, 0);\n        state.totalPrice = state.cart.reduce((total, item) => total + item.price * item.quantity, 0);\n       }\n      }\n\n       \n    },\n});\n\nconst store = configureStore({ reducer: cartSlice.reducer });\n\nexport const { addToCart, onRemove, toggleCartItemQuantity } = cartSlice.actions;\n\nexport default store; "],"file":"index.dev.js"}