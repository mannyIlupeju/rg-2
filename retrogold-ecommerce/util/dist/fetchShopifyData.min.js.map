{"version":3,"sources":["fetchShopifyData.js"],"names":["SHOPIFY_STOREFRONT_ENDPOINT","STORFRONTACCESSTOKEN","fetchShopifyData","_ref","query","variables","res","_ref2","data","regeneratorRuntime","async","_context","prev","next","awrap","fetch","method","headers","Content-Type","X-Shopify-Storefront-Access-Token","body","JSON","stringify","sent","json","abrupt","t0","console","log","stop","getAllProducts","_context2"],"mappings":"oJAIA,IAAMA,4BAA8B,oCAC9BC,qBAAuB,mCAKtB,SAAeC,iBAAfC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAT,EAAAD,EAAAC,MAAAC,EAAAF,EAAAE,UAAAM,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAEmBC,MAAMf,4BAA6B,CAFtDgB,OAAA,OAAAC,QAAA,CAAAC,eAAA,mBAAAC,oCAAAlB,sBAAAmB,KAAAC,KAAAC,UAAA,CAAAlB,MAAAA,EAAAC,UAAAA,OAAA,KAAA,EAAA,OAEOC,EAFPK,EAAAY,KAAAZ,EAAAE,KAAA,EAAAJ,mBAAAK,MAAAR,EAAAkB,QAAA,KAAA,EAAA,OAAAjB,EAAAI,EAAAY,KAAAf,EAAAD,EAAAC,KAAAG,EAAAc,OAAA,SAGKT,CACAC,KAAAA,IAJL,KAAA,GAAA,OAAAN,EAAAC,KAAA,GAAAD,EAAAe,GAAAf,EAAA,MAAA,GAIcgB,QAFwCC,IAAA,SAExCjB,EAAAe,IAJdf,EAAAc,OAAA,SAQKL,CAAQhB,OAAK,IAAEC,MAAAA,yBARpB,KAAA,GAAA,IAAA,MAAA,OAAAM,EAAAkB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MAEsD,SAFtDC,iBAEsD,OAAArB,mBAAAC,MAAA,SAAAqB,GAAA,OAAA,OAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,KAAA,EAAA,OAAAkB,EAAAN,OAAA,SAsBtDvB,iBAAiB,CAxBjBE,MAAA,itBAEsD,KAAA,EAAA,IAAA,MAAA,OAAA2B,EAAAF","file":"fetchShopifyData.min.js","sourcesContent":["\n\n\n\nconst SHOPIFY_STOREFRONT_ENDPOINT = 'quickstart-b83ae816.myshopify.com'\nconst STORFRONTACCESSTOKEN = '5431836f1c03b80506dabe8482a807f0'\n\n\n\n\nexport async function fetchShopifyData({query, variables}) {\n    try{\n        const res = await fetch(SHOPIFY_STOREFRONT_ENDPOINT, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-Shopify-Storefront-Access-Token': STORFRONTACCESSTOKEN,\n            },\n            body: { query, variables } && JSON.stringify({ query, variables })\n        })\n        const {data} = await res.json();\n        return {\n            data\n        };\n    } catch(error) {\n        console.log('Error:', error);\n        return {\n            status: 500,\n            error: 'Error receiving data'\n        }\n    }\n}\n\nexport async function getAllProducts(){\nreturn fetchShopifyData({\n    query: `{\n        products(first: 5) {\n            edges {\n                node {\n                    id\n                    title\n                    handle\n                    description\n                    priceRange {\n                        minVariantPrice {\n                            amount\n                            currencyCode\n                        }\n                    }\n                    images(first: 5) {  \n                        edges {\n                            node {\n                                src\n                                altText\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }`\n});\n}"]}