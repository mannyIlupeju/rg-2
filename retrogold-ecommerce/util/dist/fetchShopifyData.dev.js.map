{"version":3,"sources":["fetchShopifyData.js"],"names":["SHOPIFY_STOREFRONT_ENDPOINT","STORFRONTACCESSTOKEN","fetchShopifyData","query","variables","fetch","method","headers","body","JSON","stringify","res","json","data","console","log","status","error","getAllProducts"],"mappings":";;;;;;;AAIA,IAAMA,2BAA2B,GAAG,mCAApC;AACA,IAAMC,oBAAoB,GAAG,kCAA7B;;AAKO,SAAeC,gBAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAiCC,UAAAA,KAAjC,QAAiCA,KAAjC,EAAwCC,SAAxC,QAAwCA,SAAxC;AAAA;AAAA;AAAA,0CAEmBC,KAAK,CAACL,2BAAD,EAA8B;AACjDM,YAAAA,MAAM,EAAE,MADyC;AAEjDC,YAAAA,OAAO,EAAE;AACL,8BAAgB,kBADX;AAEL,mDAAqCN;AAFhC,aAFwC;AAMjDO,YAAAA,IAAI,EAAE;AAAEL,cAAAA,KAAK,EAALA,KAAF;AAASC,cAAAA,SAAS,EAATA;AAAT,iBAAwBK,IAAI,CAACC,SAAL,CAAe;AAAEP,cAAAA,KAAK,EAALA,KAAF;AAASC,cAAAA,SAAS,EAATA;AAAT,aAAf;AANmB,WAA9B,CAFxB;;AAAA;AAEOO,UAAAA,GAFP;AAAA;AAAA,0CAUsBA,GAAG,CAACC,IAAJ,EAVtB;;AAAA;AAAA;AAUQC,UAAAA,IAVR,SAUQA,IAVR;AAAA,2CAWQ;AACHA,YAAAA,IAAI,EAAJA;AADG,WAXR;;AAAA;AAAA;AAAA;AAeCC,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAfD,2CAgBQ;AACHC,YAAAA,MAAM,EAAE,GADL;AAEHC,YAAAA,KAAK,EAAE;AAFJ,WAhBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAuBA,SAAeC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA,4CACAhB,gBAAgB,CAAC;AACpBC,YAAAA,KAAK;AADe,WAAD,CADhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["\n\n\n\nconst SHOPIFY_STOREFRONT_ENDPOINT = 'quickstart-b83ae816.myshopify.com'\nconst STORFRONTACCESSTOKEN = '5431836f1c03b80506dabe8482a807f0'\n\n\n\n\nexport async function fetchShopifyData({query, variables}) {\n    try{\n        const res = await fetch(SHOPIFY_STOREFRONT_ENDPOINT, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-Shopify-Storefront-Access-Token': STORFRONTACCESSTOKEN,\n            },\n            body: { query, variables } && JSON.stringify({ query, variables })\n        })\n        const {data} = await res.json();\n        return {\n            data\n        };\n    } catch(error) {\n        console.log('Error:', error);\n        return {\n            status: 500,\n            error: 'Error receiving data'\n        }\n    }\n}\n\nexport async function getAllProducts(){\nreturn fetchShopifyData({\n    query: `{\n        products(first: 5) {\n            edges {\n                node {\n                    id\n                    title\n                    handle\n                    description\n                    priceRange {\n                        minVariantPrice {\n                            amount\n                            currencyCode\n                        }\n                    }\n                    images(first: 5) {  \n                        edges {\n                            node {\n                                src\n                                altText\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }`\n});\n}"],"file":"fetchShopifyData.dev.js"}